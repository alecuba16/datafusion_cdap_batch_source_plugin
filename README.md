# datafusion_cdap_batch_source_plugin
Complete example project to create a custom Google cloud datafusion (CDAP) batch source plugin. Sourced and adapted from the documentation where there is no quickstart project.

## Batch Source Plugin
A BatchSource plugin is used as a source of a batch data pipeline. It is used to prepare and configure the input of a pipeline run.
In order to implement a Batch Source, you extend the BatchSource class. You need to define the types of the KEY and VALUE that the Batch Source will receive and the type of object that the Batch Source will emit to the subsequent stage (which could be either a Transformation or a Batch Sink). After defining the types, only one method is required to be implemented: prepareRun()

## Methods
### prepareRun(): 
Used to configure the input for each run of the pipeline. If the fieldName for a dataset is a macro, their creation will happen during this stage. This is called by the client that will submit the job for the pipeline run.
### onRunFinish(): 
Used to run any required logic at the end of a pipeline run. This is called by the client that submitted the job for the pipeline run.
### configurePipeline():
Used to perform any validation on the application configuration that is required by this plugin or to create any datasets if the fieldName for a dataset is not a macro.
### initialize():
Initialize the Batch Source. Guaranteed to be executed before any call to the plugin’s transform method. This is called by each executor of the job. For example, if the MapReduce engine is being used, each mapper will call this method.
### destroy():
Destroy any resources created by initialize. Guaranteed to be executed after all calls to the plugin’s transform method have been made. This is called by each executor of the job. For example, if the MapReduce engine is being used, each mapper will call this method.
### transform():
This method will be called for every input key-value pair generated by the batch job. By default, the value is emitted to the subsequent stage.